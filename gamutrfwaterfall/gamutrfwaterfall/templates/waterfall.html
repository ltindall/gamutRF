<html>
    <head>
        <title>GamutRF</title>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/gamutrf.css') }}">
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    </head>
    <body>
        <div class="container">
            <img id="waterfall" src="" />
            <div class="scanner_args_form">
                <form action = "{{ url_for('config_form') }}" method = "post">
                    <p>Freq start:</p>
                    <p><input type = "text" name="freq_start" value="{{ prom_vars['freq_start'] }}"/></p>
                    <p>Freq end:</p>
                    <p><input type = "text" name="freq_end" value="{{ prom_vars['freq_end'] }}"/></p>
                    <p>Gain:</p>
                    <p><input type = "text" name="igain" value="{{ prom_vars['igain'] }}"/></p>
                    <p>Tune overlap:</p>
                    <p><input type = "text" name="tuneoverlap" value="{{ prom_vars['tuneoverlap'] }}"/></p>
                    <p>Tune step (# of FFTs):</p>
                    <p><input type = "text" name="tune_step_fft" value="{{ prom_vars['tune_step_fft'] }}"/></p>
                    <p>Sweep seconds:</p>
                    <p><input type = "text" name="sweep_sec" value="{{ prom_vars['sweep_sec'] }}"/></p>

                    <p><button name="reset" type="submit" value="reset">Reset</button></p>
                </form>
            </div>
        </div>
        <script>
            $(document).ready(function(){
                setInterval(refreshFunction, 1000);
            });

            function refreshFunction(){

                d = new Date();
                $("#waterfall").attr("src", "{{ url_for('serve_waterfall_img') }}?"+d.getTime()); 
        
            }
        </script>
    </body>
</html>